(function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],u=0,h=[];u<s.length;u++)r=s[u],a[r]&&h.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("1356"),a=o.n(n);a.a},1356:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),a=o("8c4f"),i=o("bb71");o("da64");n["a"].use(i["a"],{iconfont:"md"});o("e4cb"),o("fa97"),o("8c7a"),o("cb55"),o("416b"),o("6605"),o("6cf3"),o("8009"),o("3d21"),o("d9eb"),o("4e93"),o("c0f1"),o("92bf");var r=o("7577"),s=o.n(r),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-toolbar",{attrs:{app:""}},[o("v-btn",{attrs:{flat:""},on:{click:function(t){return e.$router.push("/")}}},[o("v-toolbar-title",{staticClass:"headline text-uppercase"},[o("span",[e._v("Net-Mist's projects")])])],1),o("v-spacer"),o("v-btn",{attrs:{flat:"",href:"https://github.com/Net-Mist",target:"_blank"}},[o("span",{staticClass:"mr-2"},[e._v("github repository")])])],1),o("v-content",[o("v-container",{attrs:{"grid-list-md":"",fluid:""}},[o("v-layout",{attrs:{"justify-space-around":"","align-space-around":"",row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",md10:""}},["/"==e.$route.path?o("router-view"):e._e(),"/"!=e.$route.path?o("div",{staticClass:"js-toc-content"},[o("div",{staticClass:"js-toc"}),o("router-view")],1):e._e()],1)],1)],1)],1),o("v-footer",{attrs:{inset:"",app:""}},[o("span",{staticClass:"px-3"},[e._v("Â© Net-Mist "+e._s((new Date).getFullYear()))])])],1)},c=[],d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("Javascript for Data Scientist")]),o("p",[e._v("Most of the time, my work start with a discussion with a client and stop when I deliver a docker image containing some machine learning models with\nan API to use it. But sometimes I need to go one step further and also build a tool use it. Until now I was using some GUI framework like Qt, openCV or\npygame. But Javascript is a wonderful tool when building app. I've tested 3 frameworks : Angular, React and Vue and decided to go with Vue.")]),o("h2",[e._v("Start a new project")]),o("h3",[e._v("Installation")]),o("h4",[e._v("On ubuntu")]),e._m(0),o("h4",[e._v("On Archlinux")]),e._m(1),o("h3",[e._v("Project setup")]),e._m(2),o("h3",[e._v("Best packages")]),e._m(3),o("h2",[e._v("D3 example")]),o("p",[e._v("all these examples are Vue components that can be added to other projects")]),o("h3",[e._v("Points")]),o("v-layout",{attrs:{"justify-space-around":"","align-space-around":"",row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}}),o("points",{attrs:{class_name:"points",href:"img.jpg",drawable:""}}),o("v-flex",{attrs:{xs12:""}},[o("v-btn",{attrs:{color:"indigo",outline:""},on:{click:function(t){return e.update_list_of_points()}}},[e._v("Send")]),o("v-btn",{attrs:{color:"indigo",outline:""},on:{click:function(t){return e.clear_list_of_points()}}},[e._v("Clear")])],1),o("v-flex",{attrs:{xs12:""}},[o("v-data-table",{attrs:{headers:e.points_list_header,items:e.points},scopedSlots:e._u([{key:"items",fn:function(t){return[o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.x))]),o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.y)+" ")])]}}])})],1)],1),o("h3",[e._v("Rectangles")]),o("v-layout",{attrs:{"justify-space-around":"","align-space-around":"",row:"",wrap:""}},[o("v-flex",{attrs:{xs12:""}}),o("rectangles",{attrs:{class_name:"rectangles",href:"img.jpg",drawable:""}}),o("v-flex",{attrs:{xs12:""}},[o("v-btn",{attrs:{color:"indigo",outline:""},on:{click:function(t){return e.update_list_of_rectangles()}}},[e._v("Send")]),o("v-btn",{attrs:{color:"indigo",outline:""},on:{click:function(t){return e.clear_list_of_rectangles()}}},[e._v("Clear")])],1),o("v-flex",{attrs:{xs12:""}},[o("v-data-table",{attrs:{headers:e.rectangles_list_header,items:e.rectangles},scopedSlots:e._u([{key:"items",fn:function(t){return[o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.xMin))]),o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.yMin)+" ")]),o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.xMax))]),o("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.yMax)+" ")])]}}])})],1)],1)],1)},u=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[e._v("First you need to install yarn : "),o("code",[e._v("sudo apt-get update && sudo apt-get install yarn")])]),o("li",[e._v("Then you can install vue-cli : "),o("code",[e._v("yarn global add @vue/cli")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("code",[e._v("pacman -S yarn && yarn global add @vue/cli")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("pre",[o("code",{staticClass:"language-bash"},[e._v("~/.yarn/bin/vue create front\ncd front\n~/.yarn/bin/vue add vuetify\nyarn add \nyarn serve\n")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",[o("li",[o("em",[e._v("axios")]),e._v(" for using web API")]),o("li",[o("em",[e._v("pug")]),e._v(" (previously known as "),o("em",[e._v("jade")]),e._v(") for template. Even better with "),o("em",[e._v("jstransformer-markdown-it")]),e._v(" for writing web pages in markdown.\nCan be install with "),o("code",[e._v("~/.yarn/bin/vue add pug")])]),o("li",[o("em",[e._v("prism")]),e._v(" for writing source code in web pages")]),o("li",[o("em",[e._v("d3")]),e._v(" for data visualization")]),o("li",[o("em",[e._v("vue-cli-plugin-prerender-spa")]),e._v(" (see "),o("a",{attrs:{href:"https://www.npmjs.com/package/vue-cli-plugin-prerender-spa"}},[e._v("it's page")]),e._v(") for prerender the website.\nUsefull for instance for github.io")])])}],h=(o("ac4d"),o("8a81"),o("ac6a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("svg",{class:e.class_name,attrs:{width:"640px",height:"480px"}},[o("image",{attrs:{id:e.image_id,href:e.href,x:"0",y:"0",height:"480px",width:"640px"}})])}),p=[],m=o("5698"),v={name:"points",props:{class_name:String,href:String,drawable:Boolean},data:function(){return{}},watch:{},computed:{image_id:function(){return this.class_name+"_image"}},mounted:function(){var e=this,t=m.select("svg."+e.class_name),o=t.append("g");function n(){m.select(this).attr("cx",m.event.x).attr("cy",m.event.y)}t.on("mouseup",function(){var e=[m.mouse(this)[0],m.mouse(this)[1]];o.append("circle").attr("cx",e[0]).attr("cy",e[1]).attr("r",4).attr("fill","yellow").attr("stroke","#000").attr("is-handle","true").attr("cursor","move").call(m.drag().on("drag",n))}),document.getElementById(e.image_id).ondragstart=function(){return!1}}},g=v,f=o("2877"),_=Object(f["a"])(g,h,p,!1,null,"c5f5fd9e",null),b=_.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("svg",{class:e.class_name,attrs:{width:"640px",height:"480px"}},[o("image",{attrs:{id:e.image_id,href:e.href,x:"0",y:"0",height:"480px",width:"640px"}})])},y=[],k=o("5698"),x={name:"points",props:{class_name:String,href:String,drawable:Boolean},data:function(){return{}},watch:{},computed:{image_id:function(){return this.class_name+"_image"}},mounted:function(){var e=this,t=k.select("svg."+e.class_name),o=t.append("g"),n=!1,a=null,i=null;function r(e,t,o){var n=Math.min(t[0],o[0]),a=Math.max(t[0],o[0]),i=Math.min(t[1],o[1]),r=Math.max(t[1],o[1]),s=[[n,i],[n,r],[a,r],[a,i],[n,i]];e.append("polyline").attr("points",s).style("fill","none").attr("stroke","#000")}function s(){k.select(this).attr("cx",k.event.x).attr("cy",k.event.y);var e=k.select(this.parentNode).selectAll("circle"),t=[],o=!0,n=!1,a=void 0;try{for(var i,s=e._groups[0][Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var l=i.value,c=k.select(l);t.push([c.attr("cx"),c.attr("cy")])}}catch(d){n=!0,a=d}finally{try{o||null==s.return||s.return()}finally{if(n)throw a}}k.select(this.parentNode).selectAll("polyline").remove(),r(k.select(this.parentNode),t[0],t[1])}t.on("mouseup",function(){if(n){var e=[k.mouse(this)[0],k.mouse(this)[1]];a.append("circle").attr("cx",e[0]).attr("cy",e[1]).attr("r",4).attr("fill","yellow").attr("stroke","#000").attr("is-handle","true").attr("cursor","move").call(k.drag().on("drag",s)),n=!1,a.select("polyline").remove(),r(a,e,i)}else i=[k.mouse(this)[0],k.mouse(this)[1]],a=o.append("g"),a.append("circle").attr("cx",i[0]).attr("cy",i[1]).attr("r",4).attr("fill","yellow").attr("stroke","#000").attr("is-handle","true").attr("cursor","move").call(k.drag().on("drag",s)),n=!0}),t.on("mousemove",function(){n&&(a.select("polyline").remove(),r(a,i,[k.mouse(this)[0],k.mouse(this)[1]]))}),document.getElementById(e.image_id).ondragstart=function(){return!1}}},I=x,C=Object(f["a"])(I,w,y,!1,null,"1705274e",null),T=C.exports,E={name:"vuejs",mounted:function(){Prism.highlightAll()},data:function(){return{points:[],points_list_header:[{text:"x",value:"x"},{text:"y",value:"y"}],rectangles_list_header:[{text:"x min",value:"xMin"},{text:"y min",value:"yMin"},{text:"x max",value:"xMax"},{text:"y max",value:"yMax"}],rectangles:[]}},components:{points:b,rectangles:T},methods:{update_list_of_points:function(){var e=document.getElementsByClassName("points"),t=e[0].getElementsByTagName("circle"),o=[],n=!0,a=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;o.push({x:l.cx.baseVal.value,y:l.cy.baseVal.value})}}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}this.points=o},update_list_of_rectangles:function(){var e=document.getElementsByClassName("rectangles"),t=e[0].getElementsByTagName("polyline"),o=[],n=!0,a=!1,i=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;o.push({xMin:l.animatedPoints[0].x,yMin:l.animatedPoints[0].y,xMax:l.animatedPoints[2].x,yMax:l.animatedPoints[2].y})}}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}this.rectangles=o},clear_list_of_points:function(){var e=document.getElementsByClassName("points"),t=e[0].getElementsByTagName("circle");while(0!==t.length)t[0].parentNode.removeChild(t[0]);this.points=[]},clear_list_of_rectangles:function(){var e=document.getElementsByClassName("rectangles"),t=e[0].getElementsByTagName("circle");while(0!==t.length)t[0].parentNode.removeChild(t[0]);var o=e[0].getElementsByTagName("polyline");while(0!==o.length)o[0].parentNode.removeChild(o[0]);this.rectangles=[]}}},N=E,A=o("6544"),j=o.n(A),P=o("8336"),S=o("8fea"),D=o("0e8f"),V=o("a722"),O=Object(f["a"])(N,d,u,!1,null,null,null),M=O.exports;j()(O,{VBtn:P["a"],VDataTable:S["a"],VFlex:D["a"],VLayout:V["a"]});var U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("VSCode")]),o("p",[e._v("After many years using "),o("a",{attrs:{href:"https://www.jetbrains.com/%22"}},[e._v("Jetbrains")]),e._v("' IDEs, I switched to VSCode.")]),o("p",[e._v("The main reason was that I didn't had access anymore to a free Licence of Jetbrains (I'm no more a student...). As I code most of my time in python, but also\nin Javascript, C++ or go, the Community Edition of pycharm was not an option for me (it was also missing some critical features like Docker\nsupport and remote development).")]),o("p",[e._v("After some time exploring several IDE I tried VSCode. And now I'm working with it. I really like the way it behaves and all the extensions it provides.\nAll these extensions transform VSCode to a very powerfull IDE. In this article I will details my configuration")]),o("h2",[e._v("For all languages")]),o("ul",[o("li",[e._v("Better Comments (color the TODOs...)")]),o("li",[e._v("Remote - Containers (to work inside docker in a easy way)")]),o("li",[e._v("Remote - SSH (to edit a code written on a remote server)")]),o("li",[e._v("GitLens (better git integration)")]),o("li",[e._v("Docker (for dockerfile and docker-compose support)")]),o("li",[e._v("Spellchecker")])]),o("h2",[e._v("Python")]),o("p",[e._v("Of course, start by installing the "),o("code",[e._v("Python")]),e._v(" extension, then "),o("code",[e._v("autoDocstring")]),e._v(" (that I setup to follow Google conventions).\nI also like to change the settings of autopep8 to set the max length of a line at 180 and only use 2 spaces for indents.")]),o("h2",[e._v("Settings")]),o("p",[e._v("This is a short recap of my settings. To access them type "),o("code",[e._v("F1")]),e._v(" and "),o("code",[e._v("open settings (json)")])]),o("pre",[o("code",[e._v('{\n  "workbench.colorTheme": "Visual Studio Dark",\n  "terminal.external.linuxExec": "terminology",\n  "workbench.statusBar.feedback.visible": false,\n  "autoDocstring.docstringFormat": "google",\n  "python.formatting.autopep8Args": [\n    "--max-line-length=180",\n    "--indent-size=2"\n  ],\n}\n')])]),o("h1",[e._v("Other")]),o("p",[e._v("I also like:")]),o("ul",[o("li",[e._v("Vetur (for vue.js coding)")]),o("li",[e._v("flask-snippets")]),o("li",[e._v("go")]),o("li",[e._v("vscode-proto3")])])])}],B={name:"vscode",mounted:function(){}},F=B,G=Object(f["a"])(F,U,$,!1,null,null,null),z=G.exports,R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("Compiling Tensorflow 1 and 2 with gpu support")]),o("h2",[e._v("Why compiling Tensorflow ?")]),o("p",[e._v("Well, there are many reasons. First, the official Tensorflow package is quite conservative. For instance it is not compiled to support recent CPU\noptimizations like avx2, fma or sse4.2. It also doesn't have intel MKL, which is quite good when using CPU for computation.")]),o("p",[e._v("By compiling Tensorflow it is possible to increase its speed.")]),o("p",[e._v("Moreover, for the GPU version of Tensorflow, by compiling Tensorflow for a smaller range of GPU card it is possible to save quite a lot of space.")]),o("p",[e._v("It also allow us to work with the last versions of CUDA, CUDNN, Ubuntu and python3.")]),o("p",[e._v("The easiest way to compile TensorFlow is probably to use Docker. The idea is to install the compilation environment inside a docker image, then\ncompile tensorflow to generate the python package. Then we can either install this package on a host system or build a new docker image with\nruntime environment.")]),o("blockquote",[o("p",[e._v("In the specific case of compiling tensorflow, we can't use docker multi-stage building. Indeed, compiling Tensorflow need gpu access that\ndocker doesn't have during building.")])]),o("h2",[e._v("Prerequisites")]),o("p",[e._v("You need to have on your computer:")]),o("ul",[o("li",[e._v("docker")]),o("li",[e._v("nvidia-docker")])]),o("h2",[e._v("Compilation environment")]),o("p",[e._v("You can find in tensorflow repository a file named\n"),o("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/dockerfiles/dockerfiles/devel-gpu.Dockerfile"}},[e._v("devel-gpu.Dockerfile")]),e._v("\nwhich contained everything to compile TensorFlow. It's a good base to start working, but it is possible to change it to fit our need. For instance\nwe can :")]),o("ul",[o("li",[e._v("Update ubuntu version from 16.04 to 18.04 (more recent and with python 3.6)")]),o("li",[e._v("Force python 3")]),o("li",[e._v("Remove ARCH because I work on standard x86_64 computers")]),o("li",[e._v("Only keep TF_CUDA_COMPUTE_CAPABILITIES=6.1,7.0 instead of everything from 3.5 to 7.0. With less options the final package is smaller.\nTo know which compute capabilities to keep you can go to "),o("a",{attrs:{href:"https://developer.nvidia.com/cuda-gpus"}},[e._v("nvidia website")]),e._v(" to check.")]),o("li",[e._v("udpate CUDA and CUDNN versions")]),o("li",[e._v("write the command for compiling tensorflow at the end of the file, so a simple docker run will do the compilation")])]),o("p",[e._v("More precessly regarding this last point,\nfirst we need to configure the environment variables in the dockerfile:")]),o("pre",[o("code",{staticClass:"language-dockerfile"},[e._v('ENV     PYTHON_BIN_PATH=/usr/bin/python3\nENV     USE_DEFAULT_PYTHON_LIB_PATH=1\nENV     TF_ENABLE_XLA=1\nENV     TF_NEED_OPENCL_SYCL=0\nENV     TF_NEED_ROCM=0\nENV     TF_CUDA_CLANG=0\nENV     GCC_HOST_COMPILER_PATH=/usr/bin/gcc\nENV     TF_NEED_MPI=0\nENV     CC_OPT_FLAGS="-march=native -Wno-sign-compare"\nENV     TF_SET_ANDROID_WORKSPACE=0\n')])]),o("p",[e._v("To know the list of environment variables to configure see "),o("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/master/configure.py"}},[e._v("Tensorflow configure.py")])]),o("p",[e._v("Then you can configure the build:")]),o("pre",[o("code",{staticClass:"language-dockerfile"},[e._v("WORKDIR /tensorflow_src\nRUN ./configure\n")])]),o("p",[e._v("And write the compile command:")]),o("pre",[o("code",{staticClass:"language-markup"},[e._v("CMD bazel build --config=opt --config=cuda --copt=-mavx --copt=-mavx2 \\\n      --copt=-mfma --copt=-mfpmath=both --copt=-msse4.2 --copt=-O3 \\\n      --config=noaws \\\n      --config=nohdfs \\\n      --config=noignite \\\n      --config=nokafka \\\n      --config=v2 \\\n      //tensorflow/tools/pip_package:build_pip_package && \\\n    bazel-bin/tensorflow/tools/pip_package/build_pip_package --gpu --nightly_flag /tensorflow_pkg\n")])]),o("p",[e._v("This command is the more generic one you can write. In fact, you probably don't need to specify all the arguments:")]),o("ul",[o("li",[o("code",[e._v("--config=v2")]),e._v(" build tensorflow 2 version")]),o("li",[o("code",[e._v("--config=opt")]),e._v(" build tensorflow with all the optimizations for the computer you're working on. If using it then the other "),o("code",[e._v("--copt")]),e._v(" arguments arguments\nare useless")]),o("li",[e._v("the "),o("code",[e._v("--config=no****")]),e._v(" disable part of tensorflow we're not using, like kafka or aws support")])]),o("p",[e._v("The resulting dockerfile can be find here")]),o("h2",[e._v("Compiling tensorflow")]),o("p",[e._v("First you need to build the devel image:\n"),o("code",[e._v("docker build -t tfdevel -f devel.Dockerfile .")])]),o("p",[e._v("Then you can create the folder that will contain the result of the compilation and start compiling tensorflow:")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("mkdir -p tensorflow_pkg\ndocker run -it --rm --runtime=nvidia \\\n      -v $(pwd)/tensorflow_pkg:/tensorflow_pkg \\\n      tfdevel\n")])]),o("p",[e._v("It will generate the python wheel\n"),o("code",[e._v("tensorflow_pkg/tf_nightly_gpu-1.13.1-cp36-cp36m-linux_x86_64.whl")]),e._v(" (Please note than even if it's writen 1.13.1 it is version 2)")]),o("h2",[e._v("Installing Tensorflow")]),o("p",[e._v("If you want to use this version of tensorflow on your host system, just do a "),o("code",[e._v("pip install")]),e._v(", else you can also build a docker image and\ninstall tensorflow inside.")]),o("p",[e._v("You will once again find in tensorflow repository a file named\n"),o("a",{attrs:{href:"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/dockerfiles/dockerfiles/gpu.Dockerfile"}},[e._v("gpu.Dockerfile")]),e._v("\nwhich contained everything to run TensorFlow. Again I like to change:")]),o("ul",[o("li",[e._v("ubuntu version from 16.04 to 18.04")]),o("li",[e._v("Remove ARCH because not usefull for me")]),o("li",[e._v("Force python 3")])]),o("p",[e._v("The resulting dockerfile can be found here.")])])}],H={name:"tfcompile",mounted:function(){Prism.highlightAll()}},J=H,W=Object(f["a"])(J,R,L,!1,null,null,null),Y=(W.exports,{name:"App",computed:{},mounted:function(){}}),q=Y,Q=(o("034f"),o("7496")),K=o("a523"),X=o("549c"),Z=o("553a"),ee=o("9910"),te=o("71d9"),oe=o("2a7f"),ne=Object(f["a"])(q,l,c,!1,null,null,null),ae=ne.exports;j()(ne,{VApp:Q["a"],VBtn:P["a"],VContainer:K["a"],VContent:X["a"],VFlex:D["a"],VFooter:Z["a"],VLayout:V["a"],VSpacer:ee["a"],VToolbar:te["a"],VToolbarTitle:oe["a"]});var ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-timeline",e._l(e.article_list,function(t){return o("v-timeline-item",{attrs:{color:"indigo",large:""},scopedSlots:e._u([{key:"opposite",fn:function(){return[e._v(e._s(t.date))]},proxy:!0}],null,!0)},[o("v-card",{attrs:{color:"indigo",dark:""}},[o("v-card-title",{staticClass:"headline"},[e._v(e._s(t.title))]),o("v-card-text",{staticClass:"white text--primary"},[o("p",[e._v(e._s(t.summary))]),o("v-btn",{staticClass:"mx-0",attrs:{color:"indigo",outline:""},on:{click:function(o){return e.$router.push(t.component_name)}}},[e._v("Read    ")])],1)],1)],1)}),1)},re=[],se={name:"Main",data:function(){return{article:"",article_list:[{title:"AI Demo",summary:"Here I present some open-source AI Demo I made",component_name:"ai_demo",date:"October 2019"},{title:"VSCode",summary:"My thoughts after switching to VSCode for work.",component_name:"vscode",date:"June 2019, updated october 2019"},{title:"Javascript for Data Scientist",summary:"Sometimes, even data scientists need to do some javascript to build a tool for data labeling or a demo for a client.",component_name:"javascript",date:"June 2019"},{title:"Installing Ubuntu for data science",summary:"Quick guide to configure Ubuntu to run docker services on GPU.",component_name:"ubuntu_install",date:"2018, last update September 2019"}]}},mounted:function(){}},le=se,ce=o("b0af"),de=o("99d9"),ue=o("12b2"),he=o("8414"),pe=o("1e06"),me=Object(f["a"])(le,ie,re,!1,null,null,null),ve=me.exports;j()(me,{VBtn:P["a"],VCard:ce["a"],VCardText:de["a"],VCardTitle:ue["a"],VTimeline:he["a"],VTimelineItem:pe["a"]});var ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("Installing Ubuntu with nvidia-docker support")]),o("p",[e._v("This is a quick guide to configure Ubuntu to run docker services on GPU, like deep learning programs for instance.")]),o("h2",[e._v("Before starting")]),o("p",[e._v("You need a clean install of Ubuntu 18.04 on a computer with a NIVIDA GPU and a internet connection.")]),o("p",[e._v("If your computer doesn't have a NVIDIA GPU then you can follow this guide to install docker and docker-compose. Just don't follow the parts regarding\nNVIDIA drivers or docker-nvidia.")]),o("h2",[e._v("Basic install")]),o("h3",[e._v("NVIDIA Driver")]),o("p",[e._v("It is highly recommended to start by installing NVIDIA drivers, as it the trickiest part.\nThe commands bellow :")]),o("ul",[o("li",[e._v("Adds a ppa (Personal Package Archive). This one is maintained by X.org.")]),o("li",[e._v("Update local package list.")]),o("li",[e._v("List the possible drivers and the recommended ones.")])]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("sudo add-apt-repository ppa:graphics-drivers/ppa \nsudo apt-get update \nubuntu-drivers devices\n")])]),o("p",[e._v("At the date of this article, the last command says that the recommended version for my GPU is nvidia-driver-415,\nso we can run:")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("sudo apt-get install nvidia-driver-415\n")])]),o("p",[e._v("Then you need to restart the computer to load the new driver. Run "),o("code",[e._v("nvidia-smi")]),e._v(" to check if the driver is running.")]),o("h3",[e._v("Docker CE")]),o("p",[e._v("To install Docker CE follow "),o("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/ubuntu/#install-using-the-repository"}},[e._v("docker wiki")]),e._v(" or run")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v('sudo apt-get install \\\n    apt-transport-https ca-certificates curl gnupg-agent software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\nsudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n    $(lsb_release -cs) \\\n    stable"\nsudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io\n')])]),o("p",[e._v("and add the user to docker group")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("sudo usermod -aG docker $USER\n")])]),o("p",[e._v("To update the user permissions, you will need to logout.\nTo check if it works, try to run the command "),o("code",[e._v("docker images")])]),o("h3",[e._v("nvidia-docker")]),o("p",[e._v("To install nvidia-docker follow "),o("a",{attrs:{href:"https://github.com/nvidia/nvidia-docker/wiki/Installation-(version-2.0)"}},[e._v("nvidia-docker wiki")]),e._v(" or run")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | \\\n    sudo apt-key add -\ndistribution=$(. /etc/os-release;echo $ID$VERSION_ID)\ncurl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | \\\n    sudo tee /etc/apt/sources.list.d/nvidia-docker.list\nsudo apt-get update\nsudo apt-get install nvidia-docker2\nsudo pkill -SIGHUP dockerd\n")])]),o("h3",[e._v("docker-compose")]),o("p",[e._v("Follow "),o("a",{attrs:{href:"https://docs.docker.com/compose/install/"}},[e._v("the doc")]),e._v(" or run")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v('sudo curl -L "https://github.com/docker/compose/releases/download/1.23.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose\n')])]),o("h2",[e._v("Post install tips and tricks")]),o("p",[e._v("From this point, you should have a working computer with docker, docker-compose and nvidia-docker. The following commands\nare extra tools to increase my productivity. Feel free to install them or not.")]),o("h3",[e._v("zsh installation and configuration")]),o("p",[e._v("zsh is the command shell that I prefer. oh-my-zsh brings a set of usefull tool to speed productivity.\nRun")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v('sudo apt install zsh\nsh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"\ncd .oh-my-zsh/themes\nwget https://raw.githubusercontent.com/caiogondim/bullet-train-oh-my-zsh-theme/master/bullet-train.zsh-theme\nsudo apt-get install fonts-powerline\n')])]),o("p",[e._v("then change the theme in "),o("code",[e._v(".zshrc")]),e._v(" to setup bullet-train")]),o("h3",[e._v("Other packages")]),o("p",[o("code",[e._v("htop")]),e._v(" is a clearer "),o("code",[e._v("top")]),e._v(". "),o("code",[e._v("openssh-server")]),e._v(" allow you to turn your computer to a ssh server, "),o("code",[e._v("net-tools")]),e._v(" gives you tools like "),o("code",[e._v("ifconfig")]),e._v(" and "),o("code",[e._v("nfs-common")]),e._v("\nis usefull when working with remote storage system like a nas")]),o("pre",[o("code",{staticClass:"language-bash"},[e._v("apt install openssh-server net-tools nfs-common htop\n")])])])}],_e={name:"ubuntu-install",mounted:function(){Prism.highlightAll()}},be=_e,we=Object(f["a"])(be,ge,fe,!1,null,null,null),ye=we.exports,ke=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},xe=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("AI Demo")]),o("p",[e._v("Some times ago, I built some computer vision demos for a friend making an exhibition to promote AI.\nAs all this work is open-source, I've chosen to share in this article the details of my work, to help other people to\nsetup and run these demos.\nHere are four classic applications that I've packaged\nto make them easy to setup:")]),o("ul",[o("li",[e._v("an example of style-transfer running in real-time, trained on Picasso painting,")]),o("li",[e._v("an object detection algorithm also running in real-time,")]),o("li",[e._v("GauGAN, a NVIDIA algorithm to paint a picture from a drawing,")]),o("li",[e._v("an open-source and on-premise version of Google Quick Draw game.")])]),o("p",[e._v("All these demo runs inside docker. The source codes are on Github and the pre-build docker images on Dockerhub.")]),o("h2",[e._v("1. Style transfer")]),o("p",[e._v("This demo is the one I'm the most proud because everything here is my own handiwork: writing the algorithm to train the neural network, training it\nand making the webapp to display the results.")]),o("p",[e._v("Style transfer is the process of analyzing the style of an image or a collection of images, and applying this style to another image. The goal is to\ntransform a picture to an image with the same content, but with another style, for instance the style of Picasso.\nIn this demo, we apply in real-time the style from Picasso to the video feed coming from the camera.")]),o("p",[o("img",{attrs:{src:"/aidemo/house.svg",alt:"/aidemo/house.svg"}})]),o("p",[e._v("I've started working on it for the Devpost challenge: "),o("a",{attrs:{href:"https://tensorflow.devpost.com/"}},[e._v("#PoweredByTF 2.0")]),e._v(", and since then I have continued to improve it.")]),o("p",[e._v('To train the model I used a Generative Adversarial Network (or GAN) following the paper "adaptive style transfer". A first neural network, the generator,\ntake as input a picture and transforms it to a Picasso painting. A second neural network (the discriminator) take as input this transformed image\nand try to predict if this\nimage is a true Picasso painting.\nThe generator tries to trick the discriminator and the discriminator tries to stay efficient at recognizing which pictures are real Picasso painting, hence "adverserial".')]),o("p",[e._v("The evolution of the neural network during the training can be tracked on\nthe following image.\nAt first (below 2000 iterations), the generator drew some random noise.\nThe output became more recognizable after a while (2000-20000).\nand after many iterations\nthe results looked a lot like Picasso's painting.")]),o("p",[o("img",{attrs:{src:"aidemo/style_transfer.svg",alt:"style_transfer"}})]),o("p",[e._v("This demo works in realtime if you have a Nvidia GPU (tested with gtx1070). You also need a\nwebcam connected to the computer that you can access through "),o("code",[e._v("/dev/video0")]),e._v(" for instance.")]),o("ul",[o("li",[e._v("start the demo: "),o("code",[e._v("docker run -it --rm --runtime=nvidia -d /dev/video0 -p 80:8080 -e PROCESSED_HEIGHT=768 -e PROCESSED_WIDTH=1024 netmist/style_transfer_webapp:0.1")])]),o("li",[e._v("github: "),o("a",{attrs:{href:"https://github.com/Net-Mist/style-transfer-tf2"}},[e._v("https://github.com/Net-Mist/style-transfer-tf2")])]),o("li",[e._v("Research paper: "),o("a",{attrs:{href:"https://arxiv.org/abs/1807.10201"}},[e._v("https://arxiv.org/abs/1807.10201")])])]),o("h2",[e._v("2. Object recognition")]),o("p",[e._v("When working on computer vision tasks, we often need to find objects in an image.\nUsing an object recognition neural network is an efficient way\nto handle this problem.")]),o("p",[e._v("Object recognition is the task of recognizing objects in an image.\nFor convenience's sake, the recognized object can be marked with a bounding box\n(see image below).")]),o("p",[e._v("This algorithm outputs a list of bounding boxes (the boxes in green and yellow in the following image)\nsurrounding all the objects,\nfollowed by a classification (e.g. person or kite).")]),o("table",[o("thead",[o("tr",[o("th",{staticStyle:{"text-align":"center"}},[o("img",{attrs:{src:"aidemo/kites_detections_output.jpg",alt:"object_detection"}})])])]),o("tbody",[o("tr",[o("td",{staticStyle:{"text-align":"center"}},[o("em",[e._v("Image from "),o("a",{attrs:{href:"https://github.com/tensorflow/models/tree/master/research/object_detection"}},[e._v("TensorFlow object detection")])])])])])]),o("p",[e._v("For this demo, I dowloaded one model from the "),o("a",{attrs:{href:"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md"}},[e._v("Tensorflow object detection zoo")]),e._v("\nand built a webapp to do realtime inference.")]),o("p",[e._v("As for style transfer demo, you will need a nvidia GPU (tested with gtx1070) and a webcam to run this demo.")]),o("ul",[o("li",[e._v("start the demo: "),o("code",[e._v("docker run -it --rm --runtime=nvidia -d /dev/video0 -p 80:8080 netmist/object_detection:0.1")])]),o("li",[e._v("github: "),o("a",{attrs:{href:"https://github.com/Net-Mist/demo_object_detection"}},[e._v("https://github.com/Net-Mist/demo_object_detection")])])]),o("h2",[e._v("3. GauGAN")]),o("p",[e._v("GauGAN is another application of Generative Adversarial Networks. The generator takes as input a simple drawing, where colors encode\nthe texture and generates a photo-realistic picture from this information.\nThe discriminator tries to make the difference between this generated picture and real pictures.")]),o("p",[o("img",{attrs:{src:"aidemo/gaugan.png",alt:"gaugan"}})]),o("ul",[o("li",[e._v("start the demo: "),o("code",[e._v("docker run -it --rm -p 80:80 netmist/spade:2.0")])]),o("li",[e._v("github : "),o("a",{attrs:{href:"https://github.com/Net-Mist/smart-sketch"}},[e._v("https://github.com/Net-Mist/smart-sketch")])]),o("li",[e._v("fork from : "),o("a",{attrs:{href:"https://github.com/noyoshi/smart-sketch"}},[e._v("https://github.com/noyoshi/smart-sketch")])]),o("li",[e._v("Original NVIDIA work : "),o("a",{attrs:{href:"https://github.com/NVlabs/SPADE/"}},[e._v("https://github.com/NVlabs/SPADE/")])]),o("li",[e._v("Research paper : "),o("a",{attrs:{href:"https://arxiv.org/abs/1903.07291"}},[e._v("https://arxiv.org/abs/1903.07291")])])]),o("h2",[e._v("4. Quick draw")]),o("p",[e._v("This is a game designed by google. Can an IA recognize an object drawn by a human?\nThe classification model used here was trained on a dataset released by Google,\ngathered from the images drew by all the players.")]),o("p",[o("img",{attrs:{src:"aidemo/sketcher.png",alt:"sketcher"}})]),o("ul",[o("li",[e._v("start the demo: "),o("code",[e._v("docker run -it --rm -p 80:80 netmist/sketcher:2.0")])]),o("li",[e._v("github : "),o("a",{attrs:{href:"https://github.com/zaidalyafeai/zaidalyafeai.github.io"}},[e._v("https://github.com/zaidalyafeai/zaidalyafeai.github.io")])])])])}],Ie={mounted:function(){}},Ce=Ie,Te=Object(f["a"])(Ce,ke,xe,!1,null,null,null),Ee=Te.exports,Ne=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ae=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"markdown-body"},[o("h1",[e._v("Blender for datascience")]),o("p",[e._v("Blender is a 3D modelisation open-source tool. The last major release (2.8) introduce a real time render engine, call Eevee.\nEevee use the same technology as a game engine, and so can be used to generate a dataset without investing in huge computation power for rendering the images.\nBut how well can we train a model on these syntetic data ?")]),o("p",[e._v("Below you will find some experiment I did to answer this question")]),o("h2",[e._v("Experiment 1 : people detection")]),o("p",[e._v("to build the simulation I followed "),o("a",{attrs:{href:"https://www.youtube.com/watch?v=xWq-ZPMhai8"}},[e._v("this tutorial")]),e._v(". It gives me a crowd simulation.")]),o("p",[e._v("TODO add image")]),o("p",[e._v("Next step is to generate both an image and a mask.")]),o("ul",[o("li",[e._v("Go to compositing")]),o("li",[e._v('Click "use node"')])]),o("h2",[e._v("Experiment 2 : fruit recognition")]),o("h2",[e._v("Experiment 3 :")])])}],je={mounted:function(){}},Pe=je,Se=Object(f["a"])(Pe,Ne,Ae,!1,null,null,null),De=Se.exports;s.a.init({tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3"}),n["a"].use(a["a"]),n["a"].config.productionTip=!1;var Ve=[{path:"/blender",component:De},{path:"/javascript",component:M},{path:"/vscode",component:z},{path:"/",component:ve},{path:"/ubuntu_install",component:ye},{path:"/ai_demo",component:Ee}],Oe=new a["a"]({mode:"history",routes:Ve});new n["a"]({router:Oe,render:function(e){return e(ae)}}).$mount("#app")}});
//# sourceMappingURL=app.f1214d99.js.map